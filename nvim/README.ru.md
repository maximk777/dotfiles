# Конфигурация Neovim

Современная настройка Neovim для разработки на Go и Rust с lazy.nvim, LSP, DAP и расширенными хоткеями.

**Leader-клавиша**: `<Space>` (Пробел)

---

## Содержание

- [Быстрый справочник](#быстрый-справочник)
- [Навигация](#навигация)
- [Редактирование](#редактирование)
- [LSP и работа с кодом](#lsp-и-работа-с-кодом)
- [Git](#git)
- [Отладка](#отладка)
- [Языковые фишки](#языковые-фишки)
- [Терминал и сессии](#терминал-и-сессии)
- [Vim-фишки](#vim-фишки)
- [Сценарии использования](#сценарии-использования)

---

## Быстрый справочник

Самые важные хоткеи, которые стоит запомнить первыми:

| Клавиша | Действие |
|---------|----------|
| `<Space>` | Leader-клавиша |
| `s` | Flash-прыжок (мгновенный переход) |
| `vaf` | Выделить всю функцию |
| `gd` | Перейти к определению |
| `gpd` | Превью определения (без перехода) |
| `K` | Документация при наведении |
| `<C-o>/<C-i>` | Прыжок назад/вперёд |
| `<leader>ff` | Поиск файлов |
| `<leader>fg` | Поиск текста в проекте |
| `<leader>fy` | История yanks |
| `<leader>e` | Файловый менеджер |
| `gcc` | Закомментировать строку |
| `<leader>rn` | Переименовать символ |
| `<leader>ci/co` | Входящие/исходящие вызовы |
| `<C-n>` | Мультикурсор (выделить слово) |
| `<leader>uu` | Дерево отмен (undo tree) |

---

## Навигация

### Базовые перемещения

| Клавиша | Действие |
|---------|----------|
| `h/j/k/l` | Влево/Вниз/Вверх/Вправо |
| `w/W` | Начало следующего слова/СЛОВА |
| `b/B` | Начало предыдущего слова/СЛОВА |
| `e/E` | Конец следующего слова/СЛОВА |
| `0/$` | Начало/конец строки |
| `^` | Первый непробельный символ |
| `gg/G` | Начало/конец файла |
| `{/}` | Предыдущий/следующий абзац |
| `%` | Парная скобка |
| `H/M/L` | Верх/середина/низ экрана |
| `Ctrl+u/d` | Полстраницы вверх/вниз |
| `Ctrl+f/b` | Страница вперёд/назад |

### Flash-навигация (мгновенный прыжок)

| Клавиша | Режим | Действие |
|---------|-------|----------|
| `s` | Normal/Visual/Operator | Flash-прыжок |
| `S` | Normal/Visual/Operator | Flash treesitter (структурный) |
| `r` | Operator | Удалённый flash |
| `R` | Operator/Visual | Поиск по treesitter |
| `Ctrl+s` | Command | Переключить flash-поиск |

**Пример**: Нажми `s`, введи 2 символа — мгновенно прыгнешь в любое видимое место.

### Поиск файлов (Telescope)

| Клавиша | Действие |
|---------|----------|
| `<leader>ff` | Поиск файлов |
| `<leader>fg` | Поиск текста (live grep) |
| `<leader>fb` | Открытые буферы |
| `<leader>fr` | Недавние файлы |
| `<leader>fs` | Символы в файле |
| `<leader>fS` | Символы в проекте |
| `<leader>fd` | Диагностика |
| `<leader>fh` | Справка |
| `<leader>/` | Поиск в текущем буфере |

**В Telescope**:
- `Ctrl+j/k` — навигация по результатам
- `Ctrl+q` — отправить в quickfix
- `Esc` — закрыть

### Файловый менеджер (Neo-tree)

| Клавиша | Действие |
|---------|----------|
| `<leader>e` | Открыть/закрыть файловый менеджер |
| `<leader>E` | Показать текущий файл в дереве |

**Внутри Neo-tree**:
- `a` — создать файл/папку
- `d` — удалить
- `r` — переименовать
- `c/x/p` — копировать/вырезать/вставить
- `H` — показать скрытые файлы

### Буферы и окна

| Клавиша | Действие |
|---------|----------|
| `Shift+h` | Предыдущий буфер |
| `Shift+l` | Следующий буфер |
| `<leader>bd` | Закрыть буфер |
| `<leader>bD` | Принудительно закрыть буфер |
| `<leader>bp` | Закрепить буфер |
| `<leader>bo` | Закрыть остальные буферы |

| Клавиша | Действие |
|---------|----------|
| `Ctrl+h/j/k/l` | Переход между окнами |
| `<leader>sv` | Разделить вертикально |
| `<leader>sh` | Разделить горизонтально |
| `<leader>se` | Выровнять размеры окон |
| `<leader>sx` | Закрыть окно |
| `Ctrl+Up/Down/Left/Right` | Изменить размер окон |

### LSP-навигация

| Клавиша | Действие |
|---------|----------|
| `gd` | К определению |
| `gD` | К объявлению |
| `gr` | К ссылкам |
| `gi` | К реализации |
| `gt` | К определению типа |
| `]]` | Следующая ссылка (illuminate) |
| `[[` | Предыдущая ссылка |

### Структура кода (Aerial)

| Клавиша | Действие |
|---------|----------|
| `<leader>o` | Показать/скрыть outline |
| `<leader>O` | Навигация по outline |
| `{/}` | Предыдущий/следующий символ (в outline) |

---

## Редактирование

### Text Objects (Сила Vim!)

Text objects работают с операторами: `v` (выделить), `d` (удалить), `c` (заменить), `y` (копировать).

**На основе Treesitter** (понимает структуру кода):

| Text Object | Inner | Outer | Описание |
|-------------|-------|-------|----------|
| Функция | `if` | `af` | Тело функции / вся функция |
| Класс | `ic` | `ac` | Тело класса / весь класс |
| Параметр | `ia` | `aa` | Значение параметра / с запятой |
| Блок | `ib` | `ab` | Содержимое блока / со скобками |
| Условие | `ii` | `ai` | Тело if/else / весь оператор |
| Цикл | `il` | `al` | Тело цикла / весь цикл |
| Комментарий | — | `a/` | Весь комментарий |

**Git hunk**:
| Text Object | Описание |
|-------------|----------|
| `ih` | Выделить git hunk |

**Примеры**:
- `vaf` — выделить всю функцию
- `dif` — удалить тело функции
- `caa` — заменить параметр (включая запятую)
- `yac` — скопировать весь класс
- `vih` — выделить git hunk

### Навигация по Text Objects

| Клавиша | Действие |
|---------|----------|
| `]f` / `[f` | Следующая/предыдущая функция (начало) |
| `]F` / `[F` | Следующая/предыдущая функция (конец) |
| `]c` / `[c` | Следующий/предыдущий класс (начало) |
| `]C` / `[C` | Следующий/предыдущий класс (конец) |
| `]a` / `[a` | Следующий/предыдущий параметр |

### Перестановка параметров

| Клавиша | Действие |
|---------|----------|
| `<leader>a` | Поменять со следующим параметром |
| `<leader>A` | Поменять с предыдущим параметром |

### Операции с окружением (Surround)

| Клавиша | Действие |
|---------|----------|
| `ys{motion}{char}` | Добавить окружение |
| `ds{char}` | Удалить окружение |
| `cs{old}{new}` | Заменить окружение |

**Примеры**:
- `ysiw"` — обернуть слово в кавычки
- `ds'` — удалить окружающие кавычки
- `cs'"` — заменить одинарные кавычки на двойные
- `ysa{(` — обернуть параметр в скобки

### Комментарии

| Клавиша | Режим | Действие |
|---------|-------|----------|
| `gcc` | Normal | Закомментировать строку |
| `gc` | Normal/Visual | Закомментировать |
| `gbc` | Normal | Блочный комментарий |
| `gb` | Normal/Visual | Блочный комментарий |

### Операции со строками

| Клавиша | Режим | Действие |
|---------|-------|----------|
| `Alt+j` | Normal/Insert/Visual | Переместить строку(и) вниз |
| `Alt+k` | Normal/Insert/Visual | Переместить строку(и) вверх |
| `<` / `>` | Visual | Отступ (остаётся в visual mode) |
| `p` | Visual | Вставить без копирования заменённого текста |
| `J` | Normal | Объединить строки |

### Форматирование

| Клавиша | Режим | Действие |
|---------|-------|----------|
| `<leader>lf` | Normal/Visual | Отформатировать буфер/выделение |

Используется: goimports (Go), rustfmt (Rust), stylua (Lua)

### Инкрементальное выделение (Wildfire)

Нажимай `Enter` в visual mode для расширения выделения по смыслу.

---

## LSP и работа с кодом

### Hover и документация

| Клавиша | Режим | Действие |
|---------|-------|----------|
| `K` | Normal | Показать документацию |
| `Ctrl+k` | Insert | Подсказка сигнатуры |

### Рефакторинг

| Клавиша | Действие |
|---------|----------|
| `<leader>rn` | Переименовать символ |
| `<leader>ca` | Code action (Normal/Visual) |

### Диагностика

| Клавиша | Действие |
|---------|----------|
| `gl` | Показать диагностику (float) |
| `[d` / `]d` | Предыдущая/следующая ошибка |
| `<leader>q` | Диагностика в loclist |
| `<leader>xx` | Панель диагностики (Trouble) |
| `<leader>xX` | Диагностика буфера |
| `<leader>xL` | Location list |
| `<leader>xQ` | Quickfix list |

### Inlay Hints

| Клавиша | Действие |
|---------|----------|
| `<leader>ih` | Вкл/выкл inlay hints |

### TODO-комментарии

| Клавиша | Действие |
|---------|----------|
| `]t` / `[t` | Следующий/предыдущий TODO |
| `<leader>xt` | Все TODO в Trouble |

### Рабочее пространство

| Клавиша | Действие |
|---------|----------|
| `<leader>wa` | Добавить папку в workspace |
| `<leader>wr` | Убрать папку из workspace |
| `<leader>wl` | Список папок workspace |

### Линтинг

| Клавиша | Действие |
|---------|----------|
| `<leader>cl` | Запустить линтер |

---

## Git

### Навигация по hunk'ам

| Клавиша | Действие |
|---------|----------|
| `]h` / `[h` | Следующий/предыдущий hunk |

### Действия с hunk'ами

| Клавиша | Режим | Действие |
|---------|-------|----------|
| `<leader>hs` | Normal/Visual | Stage hunk |
| `<leader>hr` | Normal/Visual | Reset hunk |
| `<leader>hS` | Normal | Stage весь буфер |
| `<leader>hu` | Normal | Отменить stage hunk |
| `<leader>hR` | Normal | Reset весь буфер |
| `<leader>hp` | Normal | Предпросмотр hunk |

### Blame

| Клавиша | Действие |
|---------|----------|
| `<leader>hb` | Blame строки |
| `<leader>hB` | Blame файла |
| `<leader>ht` | Вкл/выкл inline blame |

### Diff

| Клавиша | Действие |
|---------|----------|
| `<leader>hd` | Diff этого файла |
| `<leader>hD` | Diff этого файла ~ |
| `<leader>gd` | Открыть diffview |
| `<leader>gh` | История файла |
| `<leader>gH` | История ветки |
| `<leader>gc` | Закрыть diffview |

### Lazygit

| Клавиша | Действие |
|---------|----------|
| `<leader>tg` | Открыть Lazygit |

---

## Отладка

### Breakpoints

| Клавиша | Действие |
|---------|----------|
| `<leader>db` | Установить/убрать breakpoint |
| `<leader>dB` | Условный breakpoint |

### Управление выполнением

| Клавиша | Действие |
|---------|----------|
| `<leader>dc` | Продолжить/Запустить |
| `<leader>dC` | Выполнить до курсора |
| `<leader>dg` | Перейти к строке (пропустить) |
| `<leader>dl` | Запустить последний |
| `<leader>dt` | Завершить |
| `<leader>dp` | Пауза |

### Пошаговое выполнение

| Клавиша | Действие |
|---------|----------|
| `<leader>di` | Step into (войти в функцию) |
| `<leader>do` | Step out (выйти из функции) |
| `<leader>dO` | Step over (перешагнуть) |

### Навигация по стеку

| Клавиша | Действие |
|---------|----------|
| `<leader>dj` | Вниз по стеку |
| `<leader>dk` | Вверх по стеку |

### Инспекция

| Клавиша | Режим | Действие |
|---------|-------|----------|
| `<leader>du` | Normal | Показать/скрыть DAP UI |
| `<leader>de` | Normal/Visual | Вычислить выражение |
| `<leader>dr` | Normal | Показать/скрыть REPL |
| `<leader>ds` | Normal | Выбор сессии |
| `<leader>dw` | Normal | Widgets (hover) |

---

## Языковые фишки

### Go

#### Тестирование

| Клавиша | Действие |
|---------|----------|
| `<leader>gt` | Запустить тесты |
| `<leader>gT` | Запустить тест-функцию |
| `<leader>gC` | Покрытие |
| `<leader>tt` | Запустить ближайший тест (neotest) |
| `<leader>tf` | Запустить тесты файла |
| `<leader>ts` | Панель тестов |
| `<leader>tD` | Отладить ближайший тест |

#### Генерация кода

| Клавиша | Действие |
|---------|----------|
| `<leader>gta` | Добавить struct tags |
| `<leader>gtr` | Удалить struct tags |
| `<leader>gi` | Реализовать интерфейс |
| `<leader>gf` | Заполнить struct |
| `<leader>ge` | Добавить `if err != nil` |
| `<leader>gg` | Go generate |
| `<leader>gG` | Go generate (файл) |

#### Навигация

| Клавиша | Действие |
|---------|----------|
| `<leader>ga` | Альтернативный файл (test/impl) |
| `<leader>gdo` | Go doc |

#### Модули

| Клавиша | Действие |
|---------|----------|
| `<leader>gmt` | Go mod tidy |
| `<leader>gmi` | Go mod init |

### Rust

#### Cargo/Crates (в Cargo.toml)

| Клавиша | Действие |
|---------|----------|
| `<leader>ct` | Показать/скрыть инфо о crates |
| `<leader>cr` | Перезагрузить crates |
| `<leader>cv` | Popup с версиями |
| `<leader>cf` | Popup с features |
| `<leader>cd` | Показать зависимости |
| `<leader>cu` | Обновить crate |
| `<leader>cU` | Апгрейд crate |
| `<leader>ca` | Обновить все |
| `<leader>cA` | Апгрейд всех |
| `<leader>cH` | Открыть homepage |
| `<leader>cR` | Открыть репозиторий |
| `<leader>cD` | Открыть docs.rs |
| `<leader>cC` | Открыть crates.io |

#### Rust LSP (rustaceanvim)

| Клавиша | Действие |
|---------|----------|
| `<leader>rr` | Runnables (запуск) |
| `<leader>rd` | Debuggables (отладка) |
| `<leader>rm` | Развернуть макрос |
| `<leader>rc` | Открыть Cargo.toml |
| `<leader>rp` | Родительский модуль |
| `<leader>rj` | Объединить строки |
| `<leader>rh` | Hover actions |
| `<leader>re` | Объяснить ошибку |
| `<leader>rD` | Показать диагностику |
| `<leader>ra` | Code action |
| `<leader>rt` | Testables |

---

## Терминал и сессии

### Toggleterm

| Клавиша | Действие |
|---------|----------|
| `Ctrl+\` | Показать/скрыть терминал |
| `<leader>tf` | Плавающий терминал |
| `<leader>th` | Горизонтальный терминал |
| `<leader>tv` | Вертикальный терминал |
| `<leader>tg` | Lazygit |

### Сессии

| Клавиша | Действие |
|---------|----------|
| `<leader>wr` | Восстановить сессию |
| `<leader>ws` | Сохранить сессию |
| `<leader>wD` | Удалить сессию |

---

## Vim-фишки

### Макросы

Запись и воспроизведение действий:

1. `qa` — начать запись в регистр `a`
2. Выполни нужные действия
3. `q` — остановить запись
4. `@a` — воспроизвести макрос
5. `@@` — повторить последний макрос
6. `10@a` — воспроизвести макрос 10 раз

### Регистры

| Команда | Описание |
|---------|----------|
| `"ayy` | Скопировать строку в регистр `a` |
| `"ap` | Вставить из регистра `a` |
| `"+y` | Скопировать в системный буфер |
| `"+p` | Вставить из системного буфера |
| `"0p` | Вставить последний yank (не delete) |
| `:reg` | Показать все регистры |

### Метки (Marks)

| Клавиша | Описание |
|---------|----------|
| `ma` | Установить метку `a` |
| `'a` | Перейти к метке `a` (строка) |
| `` `a `` | Перейти к метке `a` (точная позиция) |
| `''` | Вернуться на предыдущую позицию |
| `:marks` | Показать все метки |

**Автоматические метки**:
- `` `. `` — последнее изменение
- `` `" `` — позиция при выходе
- `` `[ `` / `` `] `` — начало/конец последнего изменения

### Сворачивание кода (Folding)

| Клавиша | Действие |
|---------|----------|
| `za` | Свернуть/развернуть |
| `zR` | Развернуть все |
| `zM` | Свернуть все |
| `zK` | Предпросмотр свёрнутого |
| `zo/zc` | Открыть/закрыть fold |

### Трюки командной строки

| Команда | Описание |
|---------|----------|
| `:!command` | Выполнить shell-команду |
| `:%!sort` | Отсортировать файл |
| `:'<,'>!command` | Пропустить выделение через команду |
| `:r !command` | Вставить вывод команды |
| `:earlier 5m` | Откатиться на 5 минут назад |
| `:later 5m` | Вернуться на 5 минут вперёд |
| `g Ctrl+g` | Статистика слов/символов |

### Команда точки (Dot Command)

`.` повторяет последнее изменение. Комбинируй с перемещениями:

1. `ciw"hello"<Esc>` — заменить слово на "hello"
2. `n` — найти следующее вхождение
3. `.` — повторить замену

### Глобальная команда (Global)

`:g/pattern/command` — выполнить команду на совпадающих строках:

- `:g/TODO/d` — удалить все строки с TODO
- `:g/^$/d` — удалить пустые строки
- `:g/error/p` — показать строки с "error"

### Поиск и замена

| Команда | Описание |
|---------|----------|
| `:%s/old/new/g` | Заменить все в файле |
| `:%s/old/new/gc` | Заменить с подтверждением |
| `:s/old/new/g` | Заменить в текущей строке |
| `*` / `#` | Искать слово под курсором вперёд/назад |
| `gn` | Выделить следующее совпадение (для операторов) |

### Блочное выделение (Visual Block)

`Ctrl+v` включает режим блочного выделения:

1. `Ctrl+v` — начать блочное выделение
2. Выдели столбцы/строки
3. `I` или `A` — вставить в начало/конец
4. Введи текст
5. `Esc` — применить ко всем строкам

### Полезные Ex-команды

| Команда | Описание |
|---------|----------|
| `:w !sudo tee %` | Сохранить как root |
| `:e!` | Перезагрузить файл (отменить изменения) |
| `:only` | Закрыть все другие окна |
| `:bd` | Закрыть буфер |
| `:bufdo %s/old/new/g` | Заменить во всех буферах |
| `:cdo s/old/new/g` | Заменить в quickfix файлах |

---

## Сценарии использования

### Сценарий 1: Рефакторинг функции

**Задача**: Перенести функцию в другой файл и переименовать.

```
1. gd            → Перейти к определению функции
2. vaf           → Выделить всю функцию
3. d             → Удалить (вырезать)
4. <leader>e     → Открыть файловый менеджер
5. Перейти к нужному файлу, нажать Enter
6. p             → Вставить функцию
7. <leader>rn    → Переименовать функцию
8. <leader>lf    → Отформатировать файл
9. gr            → Проверить, что все ссылки обновились
```

### Сценарий 2: Code Review

**Задача**: Просмотреть изменения в PR.

```
1. <leader>gd    → Открыть diffview
2. ]c            → Перейти к следующему изменению
3. <leader>hp    → Предпросмотр hunk
4. <leader>hb    → Кто написал эту строку
5. K             → Документация к функции
6. gd            → Перейти к определению (если нужно)
7. <leader>gc    → Закрыть diffview
```

### Сценарий 3: Отладка

**Задача**: Отладить падающий тест.

```
1. Открой файл с тестом
2. <leader>db    → Поставить breakpoint на подозрительной строке
3. <leader>tD    → Запустить тест в режиме отладки (Go) или <leader>rd (Rust)
4. <leader>di    → Step into (войти в функцию)
5. <leader>de    → Вычислить выражение
6. <leader>dO    → Step over (перешагнуть)
7. <leader>du    → Открыть DAP UI для полного обзора
8. <leader>dt    → Завершить отладку
```

### Сценарий 4: Поиск и замена по проекту

**Задача**: Переименовать функцию во всех файлах.

```
1. <leader>fg    → Live grep для поиска всех вхождений
2. <leader>sr    → Открыть Spectre для поиска/замены
3. Ввести паттерн и замену
4. Просмотреть изменения
5. Применить
```

**Альтернатива с LSP**:
```
1. gd            → Перейти к определению функции
2. <leader>rn    → LSP rename (обновит все ссылки)
```

### Сценарий 5: Работа с тестами (Go)

**Задача**: Написать и запустить тесты.

```
1. Открой файл реализации
2. <leader>ga    → Переключиться на тестовый файл
3. Напиши тест
4. <leader>gt    → Запустить тесты
5. <leader>ts    → Открыть панель тестов
6. Если тест упал, <leader>to для вывода
7. <leader>tD    → Отладить падающий тест
8. <leader>gC    → Проверить покрытие
```

### Сценарий 6: Изучение незнакомого кода

**Задача**: Разобраться в новом проекте.

```
1. <leader>e     → Просмотреть структуру файлов
2. <leader>fS    → Поиск символов в проекте
3. gd            → Переходить к определениям
4. gr            → Найти все ссылки
5. K             → Читать документацию
6. <leader>o     → Открыть outline для структуры файла
7. <leader>hB    → Git blame для понимания истории
```

### Сценарий 7: Быстрое редактирование с Text Objects

**Задача**: Различные операции редактирования.

```
# Изменить параметр функции:
cia           → Change inner argument

# Обернуть строку в вызов функции:
ysiw)         → Обернуть слово в ()
i func_name   → Написать имя функции

# Закомментировать блок:
Vab gc        → Выделить блок, закомментировать

# Удалить весь if:
dai           → Delete around conditional

# Скопировать функцию в системный буфер:
"+yaf         → Yank function в системный clipboard
```

---

## UI переключатели

| Клавиша | Действие |
|---------|----------|
| `<leader>us` | Вкл/выкл проверку орфографии |
| `<leader>uw` | Вкл/выкл перенос строк |
| `<leader>un` | Вкл/выкл номера строк |
| `<leader>uc` | Вкл/выкл colorcolumn (100) |
| `<leader>ud` | Вкл/выкл диагностику |

---

## Which-Key

Нажми `<leader>` и подожди — увидишь доступные хоткеи по группам:

- `b` — Операции с буферами
- `c` — Код/Crates
- `d` — Отладка
- `f` — Поиск (Telescope)
- `g` — Git/Go
- `h` — Git hunks
- `n` — Noice (уведомления)
- `o` — Outline
- `r` — Rust/Refactor
- `s` — Поиск/Split
- `t` — Тесты/Терминал
- `u` — UI переключатели
- `w` — Workspace/Сессии
- `x` — Диагностика

---

## Плагины

Конфигурация использует **lazy.nvim** с основными плагинами:

- **LSP**: nvim-lspconfig, mason.nvim
- **Completion**: nvim-cmp, LuaSnip
- **Treesitter**: nvim-treesitter, nvim-treesitter-textobjects
- **Навигация**: Telescope, flash.nvim, goto-preview
- **Git**: gitsigns.nvim, diffview.nvim
- **UI**: neo-tree, lualine, bufferline, noice.nvim, barbecue (breadcrumbs)
- **Отладка**: nvim-dap, nvim-dap-ui
- **Go**: go.nvim, neotest-golang
- **Rust**: rustaceanvim, crates.nvim
- **Редактирование**: nvim-surround, Comment.nvim, nvim-autopairs, vim-visual-multi, mini.align, vim-exchange
- **История**: undotree, nvim-neoclip (история yanks)
- **Метки**: marks.nvim

---

## Новые возможности (UX-обновление)

### Прыжки назад/вперёд (как в JetBrains)

| Клавиша | Действие |
|---------|----------|
| `<C-o>` | Прыжок назад |
| `<C-i>` | Прыжок вперёд |
| `<leader>jb` | Прыжок назад (альтернатива) |
| `<leader>jf` | Прыжок вперёд (альтернатива) |

### Call Hierarchy (LSP)

| Клавиша | Действие |
|---------|----------|
| `<leader>ci` | Входящие вызовы (кто вызывает?) |
| `<leader>co` | Исходящие вызовы (что вызывает?) |

### Превью определений

| Клавиша | Действие |
|---------|----------|
| `gpd` | Превью определения |
| `gpi` | Превью реализации |
| `gpr` | Превью ссылок |
| `gpt` | Превью типа |
| `gP` | Закрыть все превью |

### Мультикурсор

| Клавиша | Действие |
|---------|----------|
| `<C-n>` | Выделить слово, добавить курсор |
| `<C-Down>/<C-Up>` | Добавить курсор ниже/выше |
| `<C-S-n>` | Выделить все вхождения |
| `<C-x>` | Пропустить текущее, перейти к следующему |

### Дерево отмен (Undo Tree)

| Клавиша | Действие |
|---------|----------|
| `<leader>uu` | Показать/скрыть дерево отмен |

### История Yanks

| Клавиша | Действие |
|---------|----------|
| `<leader>fy` | Просмотр истории yanks |
| `<leader>fY` | Просмотр истории макросов |

### Метки (Marks)

| Клавиша | Действие |
|---------|----------|
| `m,` | Установить следующую метку |
| `m]` / `m[` | Следующая/предыдущая метка |
| `m:` | Превью метки |
| `dm-` | Удалить метку на строке |
| `dm<space>` | Удалить все метки в буфере |

### Выравнивание текста

| Клавиша | Режим | Действие |
|---------|-------|----------|
| `ga` | Normal/Visual | Начать выравнивание |
| `gA` | Normal/Visual | Выравнивание с превью |

**Пример**: Выдели строки, нажми `ga=` для выравнивания по `=`.

### Обмен текста (Exchange)

| Клавиша | Действие |
|---------|----------|
| `cx{motion}` | Пометить для обмена |
| `cxx` | Обменять строки |
| `X` (visual) | Обменять выделение |
| `cxc` | Сбросить пометку |

**Пример**: `cxiw` на слове1, затем `cxiw` на слове2 — они поменяются местами.

### Новые переключатели

| Клавиша | Действие |
|---------|----------|
| `<leader>uf` | Вкл/выкл форматирование при сохранении |
| `<leader>uI` | Вкл/выкл inlay hints (глобально) |

---

*Сгенерировано для конфига Neovim в ~/.config/nvim*
